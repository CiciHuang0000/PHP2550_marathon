# Practical Data Analysis Portfolio

This repository showcases three distinct data analysis projects, showcasing my skills in exploratory data analysis, model selection, and designing simulation studies.


## Project 1: Exploring the Effect of Weather on Marathon Performances Across Gender and Age

**Background**: Marathon performance is significantly influenced by weather conditions, with factors such as WBGT, humidity, solar radiation, and wind playing critical roles. This study investigates the relationship between weather conditions and marathon performance, focusing on variations across age and gender. Data from five major marathons spanning 15–20 years were analyzed to provide a comprehensive understanding of these dynamics.

**Methods**: The analysis utilized a dataset of 11,564 observations across five major marathons, incorporating weather parameters, runner demographics, and performance metrics measured as a percentage deviation from the course record. Data quality checks included correcting errors such as inconsistencies in relative humidity values. Exploratory analysis involved summarizing runner characteristics, weather parameters, and their relationships through visualizations and descriptive statistics. Correlation analysis assessed interdependencies among weather variables, while regression models were employed to examine the effects of weather conditions, age, and gender on performance, including interaction terms to capture complex dynamics. The whole report can be found [here](<Exploratory Data Analysis/report/eda_report.pdf>).

**Results**: The findings revealed that age is the most significant factor influencing marathon performance. Runners generally peak around 30 years old, with significant slowing observed after 60 years for women and 66 years for men. Weather conditions, particularly WBGT, humidity, and solar radiation, demonstrated statistically significant effects on performance; however, the practical impact was minor. These effects were more pronounced in older runners, especially women, while younger runners exhibited greater resilience to varying weather conditions. 

**Conclusions**: The study highlights the critical role of age in marathon performance, with weather conditions having a relatively minor but observable impact. Older runners are more sensitive to adverse environmental factors, while younger runners show greater performance stability. Limitations include the lack of consistent cohorts across years and races, smaller sample sizes for older age groups, and uncertainties in air quality measurements. Future research could employ advanced models and larger datasets to refine these findings and address the identified limitations.

## Project 2: Moderators of Behavioral Activation for Smoking Cessation in Individuals with Major Depressive Disorder

**Background:** There have been many calls for greater attention to the treatment of tobacco dependence in individuals with major depressive disorder (MDD). Addressing depression-related psychological aspects linked to smoking behavior in individuals with MDD may enhance their chances of quitting smoking. This project aims to examine baseline variables as potential moderators of the effects of Behavioral Activation for Smoking Cessation (BABC) among individuals with current or past MDD, as well as to identify baseline predictors of abstinence while accounting for behavioral treatment and pharmacotherapy.

**Methods:** This project utilizes data from a randomized, placebo-controlled trial that was conducted on individuals with current or past MDD who received 12 weeks of either Behavioral Activation for Smoking Cessation (BASC) or standard treatment (ST) and either varenicline or placebo. The trial included 300 daily smokers with a diagnosis of MDD. Multiple imputation was applied to address missing data, and a Lasso algorithm was used for variable selection, with 30% of the observations set aside for validation. Pooled estimates were used to calculate predictions and evaluate the model's performance in terms of discrimination and calibration. The whole report can be found [here](<Model Selection/report/model_selection.pdf>).

**Results:** Fagerstrom Test for Nicotine Dependence Score (FTCD Score) and Nicotine Metabolism Ratio (NMR) were found to be important moderators of the effects of BA for smoking cessation. Varenicline, BA, education and non-hispanic white indicator are valuable predictors of abstinence.

**Conclusion:** The Lasso regression model successfully identified moderators and predictors with moderately good discrimination power. However, given the small sample size and imbalanced class, future work needs to be conducted for enhanced generalizability.

## Project 3 Simulation-Driven Insights for Optimizing Design Parameters in Cluster Randomized Trials

**Background**: Budget constraints are a persistent challenge in conducting experiments, making it critical to identify optimal study designs that maximize statistical efficiency while minimizing costs. This project is a simulation study aimed at providing insights into designing optimal cluster randomized trials. In such trials, clusters (e.g., schools, clinics) rather than individuals are randomized to treatment or control groups, and responses are collected from individuals within each cluster. The hierarchical nature of these trials introduces between-cluster and within-cluster variability, which must be accounted for in the design.

**Methods**: Using the ADEMP framework, this study examines different cost scenarios characterized by $c_1$ (cost of the first sample from a cluster) and $c_2$ (cost of additional samples within a cluster) under a fixed budget (B). For each scenario, simulation was used to identify optimal pairs of G (number of clusters) and R (number of observations per cluster) that minimize the variance of $\beta$ (the treatment effect estimate). Variability parameters $\gamma$ (between-cluster variability) and $\sigma$ (within-cluster variability) were then varied to assess their influence on the variance of $\beta$ for the optimal pairs of G and R found in different cost scenarios. For the Poisson outcome case, where $\sigma$ is not explicitly modeled, we only varied $\gamma$ and the considered cluster means $\mu$ when simulating data. The whole report can be found [here](Simulation/report/report.pdf).

**Results**: The optimal pairs of G and R with the lowest variances were consistently observed in designs with large G and small R where we set $\gamma$ and $\sigma$ to be 1, regardless of the ratio between $c_1$ and $c_2$. This finding was consistent across both normal and Poisson outcomes. When varying $\gamma$ and $\sigma$, results showed that $\gamma$ had a significant impact on variance of $\beta$ and the impact is more pronounced when Y has a Poisson distribution, with scenarios with larger G proving more effective at mitigating the effects of increased $\gamma$. Scenarios with larger G also demonstrated to have more stable variance across different values of $\beta$. 

**Conclusions**: This simulation study demonstrates that prioritizing larger G is crucial in optimizing study designs under fixed budgets for both normal and Poisson outcomes. Designs with large G and small R consistently yielded the lowest variance for $\beta$, supporting the observation that increasing G better accounts for between-cluster variability $\gamma$, which has a significant influence on variance of $\beta$. The study’s limitations include the lack of a specific real-world study design, the arbitrary setting of $\gamma = 1$ and $\sigma = 1$ to derive optimal G and R pairs, a limited number of simulations (100 iterations), and issues with model convergence. Future studies could refine these findings by exploring a broader range of parameter values and incorporating larger simulation iterations for improved reliability. 
